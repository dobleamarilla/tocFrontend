(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21b7bb1c"],{"0cfc":function(e,t,a){e.exports=a.p+"img/uneuro.d4d09342.png"},"0e5e":function(e,t,a){e.exports=a.p+"img/img-tarjetas.6adf4bbd.png"},"100f":function(e,t,a){e.exports=a.p+"img/1cts.08f9a496.png"},1091:function(e,t,a){e.exports=a.p+"img/10euros.71677dd3.png"},1135:function(e,t,a){e.exports=a.p+"img/20euros.d0df58ee.png"},2888:function(e,t,a){e.exports=a.p+"img/5euros.4a15401a.png"},"2b6f":function(e,t,a){e.exports=a.p+"img/loading.3a59a19e.gif"},"41ef":function(e,t,a){e.exports=a.p+"img/50euros.de313b3c.png"},"54ab":function(e,t,a){e.exports=a.p+"img/img-efectivo-disabled.aabb57ee.png"},"59c8":function(e,t,a){},"9ea0":function(e,t,a){"use strict";a("59c8")},a340:function(e,t,a){e.exports=a.p+"img/doseuros.920ccd20.png"},a7d3:function(e,t,a){e.exports=a.p+"img/100euros.2f9cefba.png"},b9b8:function(e,t,a){e.exports=a.p+"img/10cts.aecf0c2d.png"},c05b:function(e,t,a){e.exports=a.p+"img/500euros.db40467f.png"},cc03:function(e,t,a){e.exports=a.p+"img/5cts.1ad0ba13.png"},cdaf:function(e,t,a){e.exports=a.p+"img/img-3g-disabled.fa7f90d7.png"},cff6:function(e,t,a){e.exports=a.p+"img/200euros.594db7de.png"},d348:function(e,t,a){e.exports=a.p+"img/img-3g.f0f80a8c.png"},d68e:function(e,t,a){e.exports=a.p+"img/50cts.a9507b29.png"},d69f:function(e,t,a){e.exports=a.p+"img/img-efectivo.0a3202b8.png"},ea88:function(e,t,a){e.exports=a.p+"img/img-tarjetas-disabled.b2f9a319.png"},edb7:function(e,t,a){e.exports=a.p+"img/20cts.f25065eb.png"},fbdc:function(e,t,a){"use strict";a.r(t);var o=a("7a23");function n(e,t,a,n,c,r){var s=Object(o["F"])("CobroComponent");return Object(o["x"])(),Object(o["e"])(s)}a("b680"),a("a9e3");var c=a("100f"),r=a.n(c),s=a("fbdd"),l=a.n(s),i=a("cc03"),u=a.n(i),b=a("b9b8"),d=a.n(b),g=a("edb7"),f=a.n(g),p=a("d68e"),h=a.n(p),j=a("0cfc"),O=a.n(j),m=a("a340"),v=a.n(m),C=a("2888"),k=a.n(C),T=a("1091"),x=a.n(T),w=a("1135"),A=a.n(w),E=a("41ef"),M=a.n(E),z=a("a7d3"),y=a.n(z),I=a("cff6"),P=a.n(I),F=a("c05b"),R=a.n(F),B=a("d69f"),N=a.n(B),V=a("54ab"),J=a.n(V),D=a("0e5e"),S=a.n(D),G=a("ea88"),L=a.n(G),_=a("d348"),H=a.n(_),U=a("cdaf"),X=a.n(U),K=a("2b6f"),q=a.n(K),Q=function(e){return Object(o["A"])("data-v-49facd92"),e=e(),Object(o["y"])(),e},W={class:"container-fluid mt-2"},Y={class:"row"},Z={class:"col-md-12 text-center"},$=["width"],ee=["width"],te=["width"],ae=["width"],oe=["width"],ne=["width"],ce=["width"],re=["width"],se={class:"row"},le={class:"col-md-12 text-center"},ie=["width"],ue=["width"],be=["width"],de=["width"],ge=["width"],fe=["width"],pe=["width"],he={class:"row"},je={class:"col-md-7"},Oe={class:"row"},me={class:"col",style:{"max-width":"325px"}},ve={class:"btn-group-vertical",role:"group"},Ce={class:"btn-group"},ke={class:"btn-group"},Te={class:"btn-group"},xe={class:"btn-group"},we={class:"col-md-6 pt-2 text-start colorTexto"},Ae={style:{"font-size":"32px"},class:"fw-bold"},Ee=Q((function(){return Object(o["h"])("br",null,null,-1)})),Me={style:{"font-size":"32px"},class:"fw-bold"},ze=Q((function(){return Object(o["h"])("br",null,null,-1)})),ye={style:{"font-size":"32px"},class:"fw-bold"},Ie=Q((function(){return Object(o["h"])("br",null,null,-1)})),Pe={key:0,class:"fw-bold",style:{"font-size":"32px",color:"red"}},Fe={key:1,class:"fw-bold",style:{"font-size":"32px",color:"green"}},Re={class:"col-md-5"},Be={key:0,class:"row"},Ne={class:"col-md-4 text-center"},Ve={class:"col-md-4 text-center"},Je={class:"col-md-4 text-center"},De=Q((function(){return Object(o["h"])("div",{class:"col text-center"},[Object(o["h"])("img",{src:q.a,alt:"Esperando respuesta del datáfono"})],-1)})),Se=[De],Ge={class:"position-absolute bottom-0 start-0 mb-2",style:{position:"absolute"}},Le={class:"btn-group",role:"group","aria-label":"First group"},_e={class:"position-absolute bottom-0 end-0 mb-2 me-2"},He={class:"col-md-12 text-center"},Ue={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Xe={class:"modal-dialog"},Ke={class:"modal-content"},qe=Q((function(){return Object(o["h"])("div",{class:"modal-header"},[Object(o["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Importe del ticket restaurant"),Object(o["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),Qe={class:"modal-body"},We={class:"input-group mb-3"},Ye=Q((function(){return Object(o["h"])("span",{class:"input-group-text"},"Cantidad",-1)})),Ze={class:"modal-footer"},$e=Q((function(){return Object(o["h"])("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"},"Cerrar",-1)}));function et(e,t,a,n,c,s){return Object(o["x"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("div",W,[Object(o["h"])("div",Y,[Object(o["h"])("div",Z,[Object(o["h"])("img",{onClick:t[0]||(t[0]=function(e){return n.agregar(.01)}),src:r.a,alt:"Moneda 1 cts.",width:n.sizeMonedas},null,8,$),Object(o["h"])("img",{onClick:t[1]||(t[1]=function(e){return n.agregar(.02)}),src:l.a,alt:"Moneda 2 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,ee),Object(o["h"])("img",{onClick:t[2]||(t[2]=function(e){return n.agregar(.05)}),src:u.a,alt:"Moneda 5 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,te),Object(o["h"])("img",{onClick:t[3]||(t[3]=function(e){return n.agregar(.1)}),src:d.a,alt:"Moneda 10 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,ae),Object(o["h"])("img",{onClick:t[4]||(t[4]=function(e){return n.agregar(.2)}),src:f.a,alt:"Moneda 20 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,oe),Object(o["h"])("img",{onClick:t[5]||(t[5]=function(e){return n.agregar(.5)}),src:h.a,alt:"Moneda 50 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,ne),Object(o["h"])("img",{onClick:t[6]||(t[6]=function(e){return n.agregar(1)}),src:O.a,alt:"Moneda 1 euro",width:n.sizeMonedas,class:"mr-2"},null,8,ce),Object(o["h"])("img",{onClick:t[7]||(t[7]=function(e){return n.agregar(2)}),src:v.a,alt:"Moneda 2 euros",width:n.sizeMonedas,class:"mr-2"},null,8,re)])]),Object(o["h"])("div",se,[Object(o["h"])("div",le,[Object(o["h"])("img",{onClick:t[8]||(t[8]=function(e){return n.agregar(5)}),src:k.a,alt:"Billete 5 euros",width:n.sizeBilletes},null,8,ie),Object(o["h"])("img",{onClick:t[9]||(t[9]=function(e){return n.agregar(10)}),src:x.a,alt:"Billete 10 euros",width:n.sizeBilletes,class:"p-2"},null,8,ue),Object(o["h"])("img",{onClick:t[10]||(t[10]=function(e){return n.agregar(20)}),src:A.a,alt:"Billete 20 euros",width:n.sizeBilletes,class:"p-2"},null,8,be),Object(o["h"])("img",{onClick:t[11]||(t[11]=function(e){return n.agregar(50)}),src:M.a,alt:"Billete 50 euros",width:n.sizeBilletes,class:"p-2"},null,8,de),Object(o["h"])("img",{onClick:t[12]||(t[12]=function(e){return n.agregar(100)}),src:y.a,alt:"Billete 100 euros",width:n.sizeBilletes,class:"p-2"},null,8,ge),Object(o["h"])("img",{onClick:t[13]||(t[13]=function(e){return n.agregar(200)}),src:P.a,alt:"Billete 200 euros",width:n.sizeBilletes,class:"p-2"},null,8,fe),Object(o["h"])("img",{onClick:t[14]||(t[14]=function(e){return n.agregar(500)}),src:R.a,alt:"Billete 500 euros",width:n.sizeBilletes,class:"p-2"},null,8,pe)])]),Object(o["h"])("div",he,[Object(o["h"])("div",je,[Object(o["h"])("div",Oe,[Object(o["h"])("div",me,[Object(o["h"])("div",ve,[Object(o["h"])("div",Ce,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[15]||(t[15]=function(e){return n.agregarTecla("7")})},"7"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[16]||(t[16]=function(e){return n.agregarTecla("8")})},"8"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[17]||(t[17]=function(e){return n.agregarTecla("9")})},"9")]),Object(o["h"])("div",ke,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[18]||(t[18]=function(e){return n.agregarTecla("4")})},"4"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[19]||(t[19]=function(e){return n.agregarTecla("5")})},"5"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[20]||(t[20]=function(e){return n.agregarTecla("6")})},"6")]),Object(o["h"])("div",Te,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[21]||(t[21]=function(e){return n.agregarTecla("1")})},"1"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[22]||(t[22]=function(e){return n.agregarTecla("2")})},"2"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[23]||(t[23]=function(e){return n.agregarTecla("3")})},"3")]),Object(o["h"])("div",xe,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[24]||(t[24]=function(e){return n.borrarCuentas()})},"C"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[25]||(t[25]=function(e){return n.agregarTecla("0")})},"0"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:t[26]||(t[26]=function(e){return n.agregarComa(".")})},",")])])]),Object(o["h"])("div",we,[Object(o["h"])("span",Ae," Total: "+Object(o["I"])(Number(n.total).toFixed(2))+" € ",1),Ee,Object(o["h"])("span",Me," Dinero recibido: "+Object(o["I"])(n.cuenta+n.totalTkrs)+" € ",1),ze,Object(o["h"])("span",ye," Ticket Restaurant: "+Object(o["I"])(n.totalTkrs)+" € ",1),Ie,n.faltaOSobra?(Object(o["x"])(),Object(o["g"])("span",Pe," Faltan: "+Object(o["I"])(n.total-(n.totalTkrs+n.cuenta))+" € ",1)):(Object(o["x"])(),Object(o["g"])("span",Fe," Sobran: "+Object(o["I"])(n.sobranX.toFixed(2))+" € ",1))])])]),Object(o["h"])("div",Re,[!1===n.esVIP&&!1===n.esDevolucion&&!1===n.esConsumoPersonal&&n.botonesCobroActivo&&!1===n.tkrs?(Object(o["x"])(),Object(o["g"])("div",Be,[Object(o["h"])("div",Ne,["EFECTIVO"==n.metodoPagoActivo?(Object(o["x"])(),Object(o["g"])("img",{key:0,onClick:t[27]||(t[27]=function(e){return n.setMetodoPago("EFECTIVO")}),src:N.a,alt:"Cobrar con efectivo",width:"185"})):(Object(o["x"])(),Object(o["g"])("img",{key:1,onClick:t[28]||(t[28]=function(e){return n.setMetodoPago("EFECTIVO")}),src:J.a,alt:"Cobrar con efectivo",width:"185"}))]),Object(o["h"])("div",Ve,["TARJETA"==n.metodoPagoActivo?(Object(o["x"])(),Object(o["g"])("img",{key:0,onClick:t[29]||(t[29]=function(e){return n.setMetodoPago("TARJETA")}),src:S.a,alt:"Cobrar con tarjeta",width:"185"})):(Object(o["x"])(),Object(o["g"])("img",{key:1,onClick:t[30]||(t[30]=function(e){return n.setMetodoPago("TARJETA")}),src:L.a,alt:"Cobrar con tarjeta",width:"185"}))]),Object(o["h"])("div",Je,["TARJETA 3G"==n.metodoPagoActivo?(Object(o["x"])(),Object(o["g"])("img",{key:0,onClick:t[31]||(t[31]=function(e){return n.setMetodoPago("TARJETA 3G")}),src:H.a,alt:"Cobrar con tarjeta",width:"185"})):(Object(o["x"])(),Object(o["g"])("img",{key:1,onClick:t[32]||(t[32]=function(e){return n.setMetodoPago("TARJETA 3G")}),src:X.a,alt:"Cobrar con tarjeta",width:"185"}))])])):Object(o["f"])("",!0),Object(o["h"])("div",{class:Object(o["r"])(["row mt-2",{datafonoEsperando:!n.esperando}])},Se,2)])])]),Object(o["h"])("div",Ge,[Object(o["h"])("div",Le,[Object(o["h"])("button",{type:"button",onClick:t[33]||(t[33]=function(e){return n.volver()}),class:"btn btn-warning ms-2 botonesPrincipales"},"Volver"),Object(o["h"])("button",{type:"button",onClick:t[34]||(t[34]=function(e){return n.reset()}),class:"btn btn-danger ms-2 botonesPrincipales"},"Reset ")])]),Object(o["h"])("div",_e,[Object(o["h"])("div",He,[Object(o["h"])("button",{onClick:t[35]||(t[35]=function(e){return n.cobrar()}),class:"btn btn-secondary w-100 totalStyle botonCobrar menusColorIvan"}," Cobrar "+Object(o["I"])(n.cobrarVariable)+" € ",1)])]),Object(o["h"])("div",Ue,[Object(o["h"])("div",Xe,[Object(o["h"])("div",Ke,[qe,Object(o["h"])("div",Qe,[Object(o["h"])("div",We,[Ye,Object(o["R"])(Object(o["h"])("input",{type:"number","onUpdate:modelValue":t[36]||(t[36]=function(e){return n.totalTkrs=e}),class:"form-control",style:{"font-size":"45px"}},null,512),[[o["N"],n.totalTkrs]])])]),Object(o["h"])("div",Ze,[$e,Object(o["h"])("button",{type:"button",class:"btn btn-primary btn-lg","data-bs-dismiss":"modal",onClick:t[37]||(t[37]=function(e){return n.configurarCantidad()})},"Aceptar")])])])])],64)}a("ac1f"),a("5319");var tt=a("bc3a"),at=a.n(tt),ot=a("5502"),nt=a("6c02"),ct=a("0180"),rt=a("a18c"),st=a("799c"),lt={name:"CobroComponent",setup:function(){var e=Object(ct["b"])(),t=Object(nt["c"])(),a=Object(ot["b"])(),n=t.params.total,c=(a.getters["getModoActual"],a.getters["Clientes/getInfoCliente"]),r="100",s="150",l=!1,i=!1,u=!1,b=!0,d=Object(o["C"])(!1),g=Object(o["C"])(0),f=Object(o["C"])(0),p=Object(o["C"])("EFECTIVO"),h=Object(o["C"])(0),j=Object(o["C"])(0),O=Object(o["C"])([]),m=Object(o["C"])(!1),v=Object(o["c"])((function(){return a.state.Cesta.cesta._id}));function C(){g.value=0,f.value=0,h.value=0,j.value=0}function k(e){console.log(e),f.value=String(Number(f.value+e))}function T(){rt["a"].push("/")}function x(){d.value?h.value="".concat(h.value.replace(".",""),"."):f.value="".concat(f.value.replace(".",""),".")}function w(e){h.value=e}function A(){var e=Number(h.value);e>0?w(e):console.log("Importe ticket restaurant incorrecto")}function E(e){g.value+=e}function M(){d.value?(d.value=!1,p.value="EFECTIVO"):(p.value="TICKET_RESTAURANT",d.value=!0)}function z(){h.value=0,g.value=0,f.value=0}function y(e){p.value=e}var I=Object(o["c"])((function(){return n-h.value<=0?0:(n-h.value).toFixed(2).replace(".",",")})),P=Object(o["c"])((function(){return d.value?n-h.value?(b=!0,j.value+h.value+n):(b=!1,j.value):j.value+h.value-n})),F=Object(o["c"])((function(){return j.value+h.value-n<0})),R=Object(o["P"])((function(){j.value=g.value})),B=Object(o["P"])((function(){j.value=Number(f.value)}));function N(e){m.value=e}function V(){m.value||(h.value>0?(N(!0),at.a.post("")):("EFECTIVO"===p.value&&(console.log(v.value),at.a.post("tickets/crearTicketEfectivo",{total:Number(n),idCesta:v.value,idCliente:c}).then((function(t){t.data.error?e.error("Error al insertar el ticket"):(a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),rt["a"].push({name:"Home",params:{tipoToast:"success",mensajeToast:"Ticket creado"}}))})).catch((function(t){console.log(t),e.error("Error")}))),"TARJETA 3G"===p.value&&(console.log(v.value),at.a.post("tickets/crearTicketDatafono3G",{total:Number(n),idCesta:v.value,idCliente:c}).then((function(t){t.data.error?e.error("Error al insertar el ticket"):(a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),rt["a"].push({name:"Home",params:{tipoToast:"success",mensajeToast:"Ticket creado"}}))})).catch((function(t){console.log(t),e.error("Error")}))),"TARJETA"===p.value&&(console.log(v.value),st["a"].emit("enviarAlDatafono",{total:Number(n),idCesta:v.value,idClienteFinal:c}),N(!0))))}function J(){console.log("test vacío")}return st["a"].on("resDatafono",(function(t){N(!1),0==t.error?(a.dispatch("setModoActual","NORMAL"),a.dispatch("Clientes/resetClienteActivo"),a.dispatch("Footer/resetMenuActivo"),rt["a"].push({name:"Home",params:{tipoToast:"success",mensajeToast:"Ticket creado"}})):e.error(t.mensaje)})),Object(o["v"])((function(){at.a.post("/trabajadores/getTrabajadoresFichados").then((function(e){e.data.error?console.log("Error!"):e.data.res.length>0?console.log(e.data.res):console.log("No hay trabajadores fichados")})).catch((function(e){console.log(e)}))})),{test:J,total:n,sizeBilletes:s,sizeMonedas:r,esVIP:l,esDevolucion:i,esConsumoPersonal:u,botonesCobroActivo:b,tkrs:d,agregarTecla:k,agregarComa:x,agregar:E,cobrarVariable:I,sobranX:P,faltaOSobra:F,cuentaAsistente:R,cuentaAsistenteTeclado:B,cuenta:j,totalTkrs:h,borrarCuentas:z,setMetodoPago:y,metodoPagoActivo:p,alternarTkrs:M,configurarCantidad:A,reset:C,arrayFichados:O,volver:T,cobrar:V,esperando:m}}},it=(a("9ea0"),a("6b0d")),ut=a.n(it);const bt=ut()(lt,[["render",et],["__scopeId","data-v-49facd92"]]);var dt=bt,gt={name:"Cobro",components:{CobroComponent:dt}};const ft=ut()(gt,[["render",n]]);t["default"]=ft},fbdd:function(e,t,a){e.exports=a.p+"img/2cts.b4040beb.png"}}]);
//# sourceMappingURL=chunk-21b7bb1c.b1059ba2.js.map