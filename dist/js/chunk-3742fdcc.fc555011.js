(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3742fdcc"],{"0cfc":function(t,e,a){t.exports=a.p+"img/uneuro.d4d09342.png"},"0e5e":function(t,e,a){t.exports=a.p+"img/img-tarjetas.6adf4bbd.png"},"100f":function(t,e,a){t.exports=a.p+"img/1cts.08f9a496.png"},1091:function(t,e,a){t.exports=a.p+"img/10euros.71677dd3.png"},1135:function(t,e,a){t.exports=a.p+"img/20euros.d0df58ee.png"},2888:function(t,e,a){t.exports=a.p+"img/5euros.4a15401a.png"},"2b6f":function(t,e,a){t.exports=a.p+"img/loading.3a59a19e.gif"},"41ef":function(t,e,a){t.exports=a.p+"img/50euros.de313b3c.png"},"54ab":function(t,e,a){t.exports=a.p+"img/img-efectivo-disabled.aabb57ee.png"},"9e6f":function(t,e,a){t.exports=a.p+"img/img-restaurant.96084bf3.png"},a340:function(t,e,a){t.exports=a.p+"img/doseuros.920ccd20.png"},a7d3:function(t,e,a){t.exports=a.p+"img/100euros.2f9cefba.png"},b9b8:function(t,e,a){t.exports=a.p+"img/10cts.aecf0c2d.png"},c05b:function(t,e,a){t.exports=a.p+"img/500euros.db40467f.png"},c3a8:function(t,e,a){},cc03:function(t,e,a){t.exports=a.p+"img/5cts.1ad0ba13.png"},cdaf:function(t,e,a){t.exports=a.p+"img/img-3g-disabled.fa7f90d7.png"},cff6:function(t,e,a){t.exports=a.p+"img/200euros.594db7de.png"},d348:function(t,e,a){t.exports=a.p+"img/img-3g.f0f80a8c.png"},d68e:function(t,e,a){t.exports=a.p+"img/50cts.a9507b29.png"},d69f:function(t,e,a){t.exports=a.p+"img/img-efectivo.0a3202b8.png"},ea88:function(t,e,a){t.exports=a.p+"img/img-tarjetas-disabled.b2f9a319.png"},eb9f:function(t,e,a){"use strict";a("c3a8")},edb7:function(t,e,a){t.exports=a.p+"img/20cts.f25065eb.png"},fbdc:function(t,e,a){"use strict";a.r(e);var o=a("7a23");function n(t,e,a,n,c,r){var s=Object(o["y"])("CobroComponent"),l=Object(o["y"])("ToastComponent");return Object(o["r"])(),Object(o["d"])(o["a"],null,[Object(o["h"])(s),Object(o["h"])(l)],64)}a("b680"),a("a9e3");var c=a("100f"),r=a.n(c),s=a("fbdd"),l=a.n(s),i=a("cc03"),b=a.n(i),u=a("b9b8"),d=a.n(u),g=a("edb7"),f=a.n(g),p=a("d68e"),O=a.n(p),j=a("0cfc"),h=a.n(j),m=a("a340"),v=a.n(m),C=a("2888"),k=a.n(C),w=a("1091"),T=a.n(w),x=a("1135"),A=a.n(x),E=a("41ef"),y=a.n(E),z=a("a7d3"),M=a.n(z),R=a("cff6"),P=a.n(R),N=a("c05b"),I=a.n(N),B=a("d69f"),F=a.n(B),V=a("54ab"),D=a.n(V),J=a("0e5e"),S=a.n(J),L=a("ea88"),G=a.n(L),U=a("d348"),_=a.n(U),X=a("cdaf"),H=a.n(X),K=a("9e6f"),q=a.n(K),Q=a("2b6f"),W=a.n(Q),Y=Object(o["H"])("data-v-403a598c");Object(o["u"])("data-v-403a598c");var Z={class:"container-fluid mt-2"},$={class:"row"},tt={class:"col-md-12 text-center"},et={class:"row"},at={class:"col-md-12 text-center"},ot={class:"row"},nt={class:"col-md-7"},ct={class:"row"},rt={class:"col",style:{"max-width":"325px"}},st={class:"btn-group-vertical",role:"group"},lt={class:"btn-group"},it={class:"btn-group"},bt={class:"btn-group"},ut={class:"btn-group"},dt={class:"col-md-6 pt-2 text-start colorTexto"},gt={style:{"font-size":"32px"},class:"fw-bold"},ft=Object(o["h"])("br",null,null,-1),pt={style:{"font-size":"32px"},class:"fw-bold"},Ot=Object(o["h"])("br",null,null,-1),jt={style:{"font-size":"32px"},class:"fw-bold"},ht=Object(o["h"])("br",null,null,-1),mt={key:0,class:"fw-bold",style:{"font-size":"32px",color:"red"}},vt={key:1,class:"fw-bold",style:{"font-size":"32px",color:"green"}},Ct={class:"col-md-5"},kt={key:0,class:"row"},wt={class:"col-md-4 text-center"},Tt={class:"col-md-4 text-center"},xt={class:"col-md-4 text-center"},At=Object(o["h"])("div",{class:"row mt-2"},[Object(o["h"])("div",{class:"col text-center"},[Object(o["h"])("img",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",src:q.a,alt:"tkrs",width:"185"})])],-1),Et=Object(o["h"])("div",{class:"col text-center"},[Object(o["h"])("img",{src:W.a,alt:"Esperando respuesta del datáfono"})],-1),yt={key:1,class:"row"},zt={class:"col text-center"},Mt={key:2,class:"row"},Rt={class:"col text-center"},Pt={key:3,class:"row"},Nt={class:"col text-center"},It={class:"position-absolute bottom-0 start-0 mb-2",style:{position:"absolute"}},Bt={class:"btn-group",role:"group","aria-label":"First group"},Ft={class:"position-absolute bottom-0 end-0 mb-2 me-2"},Vt={class:"col-md-12 text-center"},Dt={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Jt={class:"modal-dialog"},St={class:"modal-content"},Lt=Object(o["h"])("div",{class:"modal-header"},[Object(o["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Importe del ticket restaurant"),Object(o["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Gt={class:"modal-body"},Ut={class:"input-group mb-3"},_t=Object(o["h"])("span",{class:"input-group-text"},"Cantidad",-1),Xt={class:"modal-footer"},Ht=Object(o["h"])("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"},"Cerrar",-1);Object(o["s"])();var Kt=Y((function(t,e,a,n,c,s){return Object(o["r"])(),Object(o["d"])(o["a"],null,[Object(o["h"])("div",Z,[Object(o["h"])("div",$,[Object(o["h"])("div",tt,[Object(o["h"])("img",{onClick:e[1]||(e[1]=function(t){return n.agregar(.01)}),src:r.a,alt:"Moneda 1 cts.",width:n.sizeMonedas},null,8,["width"]),Object(o["h"])("img",{onClick:e[2]||(e[2]=function(t){return n.agregar(.02)}),src:l.a,alt:"Moneda 2 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[3]||(e[3]=function(t){return n.agregar(.05)}),src:b.a,alt:"Moneda 5 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[4]||(e[4]=function(t){return n.agregar(.1)}),src:d.a,alt:"Moneda 10 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[5]||(e[5]=function(t){return n.agregar(.2)}),src:f.a,alt:"Moneda 20 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[6]||(e[6]=function(t){return n.agregar(.5)}),src:O.a,alt:"Moneda 50 cts.",width:n.sizeMonedas,class:"mr-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[7]||(e[7]=function(t){return n.agregar(1)}),src:h.a,alt:"Moneda 1 euro",width:n.sizeMonedas,class:"mr-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[8]||(e[8]=function(t){return n.agregar(2)}),src:v.a,alt:"Moneda 2 euros",width:n.sizeMonedas,class:"mr-2"},null,8,["width"])])]),Object(o["h"])("div",et,[Object(o["h"])("div",at,[Object(o["h"])("img",{onClick:e[9]||(e[9]=function(t){return n.agregar(5)}),src:k.a,alt:"Billete 5 euros",width:n.sizeBilletes},null,8,["width"]),Object(o["h"])("img",{onClick:e[10]||(e[10]=function(t){return n.agregar(10)}),src:T.a,alt:"Billete 10 euros",width:n.sizeBilletes,class:"p-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[11]||(e[11]=function(t){return n.agregar(20)}),src:A.a,alt:"Billete 20 euros",width:n.sizeBilletes,class:"p-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[12]||(e[12]=function(t){return n.agregar(50)}),src:y.a,alt:"Billete 50 euros",width:n.sizeBilletes,class:"p-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[13]||(e[13]=function(t){return n.agregar(100)}),src:M.a,alt:"Billete 100 euros",width:n.sizeBilletes,class:"p-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[14]||(e[14]=function(t){return n.agregar(200)}),src:P.a,alt:"Billete 200 euros",width:n.sizeBilletes,class:"p-2"},null,8,["width"]),Object(o["h"])("img",{onClick:e[15]||(e[15]=function(t){return n.agregar(500)}),src:I.a,alt:"Billete 500 euros",width:n.sizeBilletes,class:"p-2"},null,8,["width"])])]),Object(o["h"])("div",ot,[Object(o["h"])("div",nt,[Object(o["h"])("div",ct,[Object(o["h"])("div",rt,[Object(o["h"])("div",st,[Object(o["h"])("div",lt,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[16]||(e[16]=function(t){return n.agregarTecla("7")})},"7"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[17]||(e[17]=function(t){return n.agregarTecla("8")})},"8"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[18]||(e[18]=function(t){return n.agregarTecla("9")})},"9")]),Object(o["h"])("div",it,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[19]||(e[19]=function(t){return n.agregarTecla("4")})},"4"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[20]||(e[20]=function(t){return n.agregarTecla("5")})},"5"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[21]||(e[21]=function(t){return n.agregarTecla("6")})},"6")]),Object(o["h"])("div",bt,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[22]||(e[22]=function(t){return n.agregarTecla("1")})},"1"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[23]||(e[23]=function(t){return n.agregarTecla("2")})},"2"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[24]||(e[24]=function(t){return n.agregarTecla("3")})},"3")]),Object(o["h"])("div",ut,[Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[25]||(e[25]=function(t){return n.borrarCuentas()})},"C"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[26]||(e[26]=function(t){return n.agregarTecla("0")})},"0"),Object(o["h"])("a",{class:"botonEze botonesCalculadora",onClick:e[27]||(e[27]=function(t){return n.agregarComa(".")})},",")])])]),Object(o["h"])("div",dt,[Object(o["h"])("span",gt," Total: "+Object(o["A"])(Number(n.total).toFixed(2))+" € ",1),ft,Object(o["h"])("span",pt," Dinero recibido: "+Object(o["A"])(n.cuenta+n.totalTkrs)+" € ",1),Ot,Object(o["h"])("span",jt," Ticket Restaurant: "+Object(o["A"])(n.totalTkrs)+" € ",1),ht,n.faltaOSobra?(Object(o["r"])(),Object(o["d"])("span",mt," Faltan: "+Object(o["A"])(n.total-(n.totalTkrs+n.cuenta))+" € ",1)):(Object(o["r"])(),Object(o["d"])("span",vt," Sobran: "+Object(o["A"])(n.sobranX.toFixed(2))+" € ",1))])])]),Object(o["h"])("div",Ct,[!1===n.esVIP&&!1===n.esDevolucion&&!1===n.esConsumoPersonal&&n.botonesCobroActivo&&!1===n.tkrs?(Object(o["r"])(),Object(o["d"])("div",kt,[Object(o["h"])("div",wt,["EFECTIVO"==n.metodoPagoActivo?(Object(o["r"])(),Object(o["d"])("img",{key:0,onClick:e[28]||(e[28]=function(t){return n.setMetodoPago("EFECTIVO")}),src:F.a,alt:"Cobrar con efectivo",width:"185"})):(Object(o["r"])(),Object(o["d"])("img",{key:1,onClick:e[29]||(e[29]=function(t){return n.setMetodoPago("EFECTIVO")}),src:D.a,alt:"Cobrar con efectivo",width:"185"}))]),Object(o["h"])("div",Tt,["TARJETA"==n.metodoPagoActivo?(Object(o["r"])(),Object(o["d"])("img",{key:0,onClick:e[30]||(e[30]=function(t){return n.setMetodoPago("TARJETA")}),src:S.a,alt:"Cobrar con tarjeta",width:"185"})):(Object(o["r"])(),Object(o["d"])("img",{key:1,onClick:e[31]||(e[31]=function(t){return n.setMetodoPago("TARJETA")}),src:G.a,alt:"Cobrar con tarjeta",width:"185"}))]),Object(o["h"])("div",xt,["TARJETA 3G"==n.metodoPagoActivo?(Object(o["r"])(),Object(o["d"])("img",{key:0,onClick:e[32]||(e[32]=function(t){return n.setMetodoPago("TARJETA 3G")}),src:_.a,alt:"Cobrar con tarjeta",width:"185"})):(Object(o["r"])(),Object(o["d"])("img",{key:1,onClick:e[33]||(e[33]=function(t){return n.setMetodoPago("TARJETA 3G")}),src:H.a,alt:"Cobrar con tarjeta",width:"185"}))])])):Object(o["e"])("",!0),At,Object(o["h"])("div",{class:["row mt-2",{datafonoEsperando:!n.esperando}]},[Et],2),!0===n.esVIP?(Object(o["r"])(),Object(o["d"])("div",yt,[Object(o["h"])("div",zt,[Object(o["h"])("button",{onClick:e[34]||(e[34]=function(t){return n.cobrar("DEUDA")}),class:"btn btn-danger",style:{"font-size":"40px"}}," CREAR ALBARÁN ")])])):Object(o["e"])("",!0),!0===n.esDevolucion?(Object(o["r"])(),Object(o["d"])("div",Mt,[Object(o["h"])("div",Rt,[Object(o["h"])("button",{onClick:e[35]||(e[35]=function(t){return n.cobrar("DEVOLUCION")}),class:"btn btn-danger",style:{"font-size":"40px"}}," CREAR DEVOLUCIÓN ")])])):Object(o["e"])("",!0),!0===n.esConsumoPersonal?(Object(o["r"])(),Object(o["d"])("div",Pt,[Object(o["h"])("div",Nt,[Object(o["h"])("button",{onClick:e[36]||(e[36]=function(t){return n.cobrar("CONSUMO_PERSONAL")}),class:"btn btn-danger",style:{"font-size":"40px"}}," CONSUMO PERSONAL ")])])):Object(o["e"])("",!0)])])]),Object(o["h"])("div",It,[Object(o["h"])("div",Bt,[Object(o["h"])("button",{type:"button",onClick:e[37]||(e[37]=function(t){return n.volver()}),class:"btn btn-warning ms-2 botonesPrincipales"},"Volver"),Object(o["h"])("button",{type:"button",onClick:e[38]||(e[38]=function(t){return n.reset()}),class:"btn btn-danger ms-2 botonesPrincipales"},"Reset ")])]),Object(o["h"])("div",Ft,[Object(o["h"])("div",Vt,[Object(o["h"])("button",{onClick:e[39]||(e[39]=function(t){return n.cobrar()}),class:"btn btn-secondary w-100 totalStyle botonCobrar menusColorIvan"}," Cobrar "+Object(o["A"])(n.cobrarVariable)+" € ",1)])]),Object(o["h"])("div",Dt,[Object(o["h"])("div",Jt,[Object(o["h"])("div",St,[Lt,Object(o["h"])("div",Gt,[Object(o["h"])("div",Ut,[_t,Object(o["G"])(Object(o["h"])("input",{type:"number","onUpdate:modelValue":e[40]||(e[40]=function(t){return n.totalTkrs=t}),class:"form-control",style:{"font-size":"45px"}},null,512),[[o["D"],n.totalTkrs]])])]),Object(o["h"])("div",Xt,[Ht,Object(o["h"])("button",{type:"button",class:"btn btn-primary btn-lg","data-bs-dismiss":"modal",onClick:e[41]||(e[41]=function(t){return n.configurarCantidad()})},"Aceptar")])])])])],64)})),qt=(a("ac1f"),a("5319"),a("bc3a")),Qt=a.n(qt),Wt=a("5502"),Yt=a("6c02"),Zt=a("a18c"),$t=a("799c"),te={name:"CobroComponent",setup:function(){var t=Object(Yt["c"])(),e=Object(Wt["b"])(),a=t.params.total,n=(e.getters["getModoActual"],e.getters["Clientes/getInfoCliente"]),c="100",r="150",s=!1,l=!1,i=!1,b=!0,u=Object(o["w"])(!1),d=Object(o["w"])(0),g=Object(o["w"])(0),f=Object(o["w"])("EFECTIVO"),p=Object(o["w"])(0),O=Object(o["w"])(0),j=Object(o["w"])([]),h=Object(o["w"])(!1),m=Object(o["b"])((function(){return e.state.Cesta.cesta._id}));function v(){d.value=0,g.value=0,p.value=0,O.value=0}function C(t){console.log(t),g.value=String(Number(g.value+t))}function k(){Zt["a"].push("/")}function w(){u.value?p.value="".concat(p.value.replace(".",""),"."):g.value="".concat(g.value.replace(".",""),".")}function T(t){p.value=t}function x(){var t=Number(p.value);t>0?T(t):console.log("Importe ticket restaurant incorrecto")}function A(t){d.value+=t}function E(){u.value?(u.value=!1,f.value="EFECTIVO"):(f.value="TICKET_RESTAURANT",u.value=!0)}function y(){p.value=0,d.value=0,g.value=0}function z(t){f.value=t}var M=Object(o["b"])((function(){return a-p.value<=0?0:a-p.value})),R=Object(o["b"])((function(){return u.value?a-p.value?(b=!0,O.value+p.value+a):(b=!1,O.value):O.value+p.value-a})),P=Object(o["b"])((function(){return O.value+p.value-a<0})),N=Object(o["F"])((function(){O.value=d.value})),I=Object(o["F"])((function(){O.value=Number(g.value)}));function B(t){h.value=t}function F(){h.value||(p.value>0?(B(!0),Qt.a.post("")):("EFECTIVO"===f.value&&(console.log(m.value),Qt.a.post("tickets/crearTicketEfectivo",{total:Number(a),idCesta:m.value,idCliente:n}).then((function(t){t.data.error?(e.dispatch("setToastAction",{tipo:"DANGER",mensaje:"Error al insertar el ticket."}),e.dispatch("showToast")):(e.dispatch("setModoActual","NORMAL"),e.dispatch("Clientes/resetClienteActivo"),e.dispatch("Footer/resetMenuActivo"),Zt["a"].push("/"))})).catch((function(t){console.log(t)}))),"TARJETA 3G"===f.value&&(console.log(m.value),Qt.a.post("tickets/crearTicketDatafono3G",{total:Number(a),idCesta:m.value,idCliente:n}).then((function(t){t.data.error?(e.dispatch("setToastAction",{tipo:"DANGER",mensaje:"Error al insertar el ticket."}),e.dispatch("showToast")):(e.dispatch("setModoActual","NORMAL"),e.dispatch("Clientes/resetClienteActivo"),e.dispatch("Footer/resetMenuActivo"),Zt["a"].push("/"))})).catch((function(t){console.log(t)}))),"TARJETA"===f.value&&(console.log(m.value),$t["a"].emit("enviarAlDatafono",{total:Number(a),idCesta:m.value}))))}function V(){console.log("test vacío")}return Object(o["p"])((function(){$t["a"].on("resDatafono",(function(t){console.log(t),t.error?console.log("Error: ",t.mensaje):Zt["a"].push("/")})),Qt.a.post("/trabajadores/getTrabajadoresFichados").then((function(t){t.data.error?console.log("Error!"):t.data.res.length>0?console.log(t.data.res):console.log("No hay trabajadores fichados")}))})),{test:V,total:a,sizeBilletes:r,sizeMonedas:c,esVIP:s,esDevolucion:l,esConsumoPersonal:i,botonesCobroActivo:b,tkrs:u,agregarTecla:C,agregarComa:w,agregar:A,cobrarVariable:M,sobranX:R,faltaOSobra:P,cuentaAsistente:N,cuentaAsistenteTeclado:I,cuenta:O,totalTkrs:p,borrarCuentas:y,setMetodoPago:z,metodoPagoActivo:f,alternarTkrs:E,configurarCantidad:x,reset:v,arrayFichados:j,volver:k,cobrar:F,esperando:h}}},ee=(a("eb9f"),a("6b0d")),ae=a.n(ee);const oe=ae()(te,[["render",Kt],["__scopeId","data-v-403a598c"]]);var ne=oe,ce=a("0eb4"),re={name:"Cobro",components:{CobroComponent:ne,ToastComponent:ce["a"]}};const se=ae()(re,[["render",n]]);e["default"]=se},fbdd:function(t,e,a){t.exports=a.p+"img/2cts.b4040beb.png"}}]);
//# sourceMappingURL=chunk-3742fdcc.fc555011.js.map